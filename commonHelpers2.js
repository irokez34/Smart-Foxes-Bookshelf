import"./assets/toggle_theme-056aedf1.js";const u={apiKey:"AIzaSyAQpcHlYnmJgrkoX3KbdR3qCIHswCf3vaM",authDomain:"bookshelf-smartfoxes-team.firebaseapp.com",projectId:"bookshelf-smartfoxes-team",storageBucket:"bookshelf-smartfoxes-team.appspot.com",messagingSenderId:"615845871184",appId:"1:615845871184:web:f8e6e3da332e48b2721b55",measurementId:"G-J4EFJFQ0WD"};firebase.initializeApp(u);const a=firebase.auth(),r=firebase.database();function g(){document.getElementById("myModal").style.display="none",document.location.href="./index.html"}function f(){document.getElementById("registration_form").style.display="flex",document.getElementById("login_form").style.display="none"}function y(){document.getElementById("registration_form").style.display="none",document.getElementById("login_form").style.display="flex"}function l(){let e=document.getElementById("registration_name").value,t=document.getElementById("registration_email").value,n=document.getElementById("registration_password").value;if(!E(e)||!d(t)||!m(n)){alert("Registration failed. Please check your inputs.");return}a.createUserWithEmailAndPassword(t,n).then(()=>{let o=a.currentUser,i=r.ref(),c={name:e,email:t,last_login:Date.now()};i.child("users/"+o.uid).set(c),alert("Registration successful!"),p(),document.location.href="./index.html"}).catch(o=>{alert(`Registration failed: ${o.message}`)})}function s(){let e=document.getElementById("login_email").value,t=document.getElementById("login_password").value;if(!d(e)||!m(t)){alert("Login failed. Please check your inputs.");return}a.signInWithEmailAndPassword(e,t).then(()=>{let n=a.currentUser,o=r.ref(),i={last_login:Date.now()};o.child("users/"+n.uid).update(i),alert("Login successful!"),h(n),I(),document.location.href="./index.html"}).catch(n=>{alert(`Login failed: ${n.message}`)})}function d(e){return/^[^@]+@\w+(\.\w+)+\w$/.test(e)}function m(e){return e.length>=6}function E(e){return e.trim()!==""}function p(){document.getElementById("registration_name").value="",document.getElementById("registration_email").value="",document.getElementById("registration_password").value=""}function I(){document.getElementById("login_email").value="",document.getElementById("login_password").value=""}function h(e){const t=document.getElementById("user_info");t.textContent=`Welcome, ${e.displayName||e.email}!`}document.addEventListener("DOMContentLoaded",()=>{document.getElementById("closeModalButton").addEventListener("click",g),document.getElementById("showRegistrationFormButton").addEventListener("click",f),document.getElementById("showLoginFormButton").addEventListener("click",y),document.getElementById("registerButton").addEventListener("click",l),document.getElementById("loginButton").addEventListener("click",s),document.getElementById("registration_form").addEventListener("keydown",e=>{e.key==="Enter"&&l()}),document.getElementById("login_form").addEventListener("keydown",e=>{e.key==="Enter"&&s()})});function B(){const e=new firebase.auth.GoogleAuthProvider;a.signInWithPopup(e).then(t=>{t.user}).catch(t=>{console.error("Помилка входу через Google:",t)})}document.getElementById("googleSignInButton").addEventListener("click",B);
//# sourceMappingURL=commonHelpers2.js.map
