{"version":3,"file":"commonHelpers3.js","sources":["../src/js/shopping.js","../src/js/pagination.js"],"sourcesContent":["import amazonImg from '/amazon.png';\nimport booksImg from '/books.png';\nimport iconTrash from '../img/sprite.svg';\n\nconst suportEl = document.querySelector('.card');\n\nwindow.addEventListener('load', () => {\n  setInterval(() => {\n    const widthWindow = screen.width;\n    if (Number(widthWindow) >  Number(1439)) {\n      suportEl.classList.remove('is-hidden');\n      } else  {\n      suportEl.classList.add('is-hidden');\n    };\n  }, 1000);\n});\n\nconst LOCAL_KEY = localStorage.getItem('shoppingList');\nconst parsedSettings = JSON.parse(LOCAL_KEY);\n\nconst shoppingDefaultEl = document.querySelector('.shopping-default');\nconst shoppingTitleEl = document.querySelector('.shopping-title');\n\n export function createShopping(arr) {\n     let result = [];\n    arr.map(({description, amazon_product_url, author, book_image, list_name, title, buy_links\n    }) => {\n        \n        result.push(`<div class=\"shopping-box\">\n        <div class=\"shopping-book-img\">\n          <img class=\"shopping-genre-img\" src=\"${book_image}\"\n            alt=\"Title - 'WISH'\" >\n        </div>\n        <div class=\"shopping-book-info\">\n          <h2 class=\"shopping-book-title\">${title}</h2>\n          <span class=\"shopping-book-category\">${list_name}</span>\n          <p class=\"shopping-book-discription\">${description}</p>\n          <span class=\"shopping-book-author\">${author}</span>\n        \n          <a class=\"img__src-amazon\" href=\"${amazon_product_url}\"><img class=\"mdl-logo-amazon\" src=\"${amazonImg}\" alt=\"logo amazon\" width=\"62\" height=\"19\"></a>\n          <a class=\"img__src-books\" href=\"${buy_links[1].url}\"><img class=\"mdl-logo-book\" src=\"${booksImg}\" alt=\"logo book\" width=\"33\" height=\"32\"></a>\n        </div>\n        <button class=\"shopping-remove-btn\" type=\"button\">\n          <svg class=\"remove-btn\" width=\"16\" height=\"16\" viewBox=\"0 0 32 32\">\n            <use href=\"${iconTrash}#icon-trash\"></use>\n          </svg>\n        </button>\n      </div>`);\n    })\n     const control = arr.length == [].length;\n     if (control) {\n         shoppingDefaultEl.classList.remove('is-hidden');\n     } else {\n     \n         shoppingDefaultEl.classList.add('is-hidden');\n         shoppingTitleEl.insertAdjacentHTML('afterend', result.join(''));\n    }   \n}\nconst shoppingListContainer = document.querySelector('.shopping-title');\n\nshoppingListContainer.addEventListener('click', (event) => {\n  const removeButton = event.target.closest('.shopping-remove-btn');\n\n  if (removeButton) {\n    const shoppingBox = removeButton.closest('.shopping-box');\n\n    if (shoppingBox) {\n      const itemId = shoppingBox.dataset.itemId;\n\n      removeBookFromShoppingList(itemId);\n\n      shoppingBox.remove();\n    }\n  }\n});\n\nfunction removeBookFromShoppingList(itemId) {\n  const updatedShoppingList = parsedSettings.filter(item => item.id !== itemId);\n  localStorage.setItem('shoppingList', JSON.stringify(updatedShoppingList));\n}\ncreateShopping(parsedSettings);\n\n\n\n\n","import { createShopping } from './shopping';\n\nconst storedData = localStorage.getItem('shoppingList');\nconst shoppingList = JSON.parse(storedData);\nconst paginationPages = document.querySelector('.pagination-pages');\nconst shoppingContainer = document.querySelector('.shopping-container');\nlet itemsPerPage = 3; \nlet currentPage = 1;\n\nfunction chunkArray(array, chunkSize) {\n    const result = [];\n    for (let i = 0; i < array.length; i += chunkSize) {\n      result.push(array.slice(i, i + chunkSize));\n    }\n    return result;\n}\n\nconst chunkedArray = chunkArray(shoppingList, itemsPerPage);\nconst totalPages = Math.ceil(shoppingList.length / itemsPerPage);\n\nfunction createBtnMarkup (pageNumber) {\n    const markup = `<button class=\"pagination-pages-btn\"  data-page=\"${pageNumber}\">\n        <span class=\"pagination-pages-numbers\">${pageNumber}</span></button>`;\n\n    paginationPages.insertAdjacentHTML('beforeend', markup);\n\n    const button = document.querySelector(`[data-page=\"${pageNumber}\"]`);\n    button.addEventListener('click', function () {\n        currentPage = pageNumber;\n        displayItems();\n        updateActivePageButton();\n    });\n}\n\nfunction updateActivePageButton() {\n    const buttons = document.querySelectorAll('.pagination-pages-btn');\n    buttons.forEach(button => {\n        const page = parseInt(button.dataset.page);\n        if (page === currentPage) {\n            button.classList.add('pagination-pages-btn-active');\n        } else {\n            button.classList.remove('pagination-pages-btn-active');\n        }\n    });\n}\n\nfunction displayItems() {\n    const currentPageItems = chunkedArray[currentPage - 1];\n    console.log(currentPageItems);\n    createShopping(currentPageItems);\n}\n\nfunction createBtnPages() {\n    if (shoppingList.length > itemsPerPage) {\n        for (let i = 1; i <= totalPages; i++) {\n            createBtnMarkup(i);\n        }\n    }\n}\n\nfunction checkShoppingList() {\n    const pagination = document.querySelector('.pagination-container');\n    if (shoppingList.length === 0) {\n        pagination.classList.add('is-hidden');\n    }\n}\n\n\n\n\n\ncheckShoppingList();\ncreateBtnPages();\nupdateActivePageButton();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"],"names":["suportEl","widthWindow","LOCAL_KEY","parsedSettings","shoppingDefaultEl","shoppingTitleEl","createShopping","arr","result","description","amazon_product_url","author","book_image","list_name","title","buy_links","amazonImg","booksImg","iconTrash","shoppingListContainer","event","removeButton","shoppingBox","itemId","removeBookFromShoppingList","updatedShoppingList","item","storedData","shoppingList","paginationPages","itemsPerPage","currentPage","chunkArray","array","chunkSize","i","chunkedArray","totalPages","createBtnMarkup","pageNumber","markup","displayItems","updateActivePageButton","button","currentPageItems","createBtnPages","checkShoppingList","pagination"],"mappings":"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"}