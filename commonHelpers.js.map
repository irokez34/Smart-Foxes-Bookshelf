{"version":3,"file":"commonHelpers.js","sources":["../src/js/BOOKS_API.js","../src/js/pop_up.js","../src/js/categories_book.js","../src/js/all_categories.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://books-backend.p.goit.global/books/';\n\nexport async function getCategoryList() {\n  const params = 'category-list';\n  return await axios.get(`${BASE_URL}${params}`);\n}\n\nexport async function getTopBooks() {\n  const params = 'top-books';\n  return await axios.get(`${BASE_URL}${params}`);\n}\n\nexport async function getBooksByCategory(selectedCategory) {\n  const params = 'category?category=';\n  return await axios.get(`${BASE_URL}${params}${selectedCategory}`);\n}\n\nexport async function getBooksId(idBook) {\n  return await axios.get(`${BASE_URL}${idBook}`);\n}\n","import axios from 'axios';\nimport amazonImg from '/amazon.png';\nimport booksImg from '/books.png';\nimport iconTrash from '../img/sprite.svg';\n\n\n// –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –¥–µ—Ç–∞–ª–µ–π –∫–Ω–∏–≥–∏ –∑–∞ —ó—ó ID\nconst BASE_URL = 'https://books-backend.p.goit.global/books/';\n\nexport async function getBookDetails(bookId) {\n  try {\n    const response = await axios.get(`${BASE_URL}${bookId}`);\n    if (response.status === 200) {\n      return response.data;\n    } else {\n      throw new Error('Failed to fetch book details');\n    }\n  } catch (error) {\n    console.error(error);\n  }\n}\n\n// –§—É–Ω–∫—Ü—ñ—è –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –≤—ñ–∫–Ω–∞\nfunction createModal(bookId) {\n  const modalBackdrop = document.createElement('div');\n  modalBackdrop.classList.add('modal-backdrop');\n  modalBackdrop.addEventListener('click', closeModal);\n\n  const modal = document.createElement('div');\n  modal.classList.add('modal');\n\n  const closeModalButton = document.createElement('button');\n  closeModalButton.classList.add('mdl-btn-icon-x');\n  closeModalButton.innerHTML = `\n        <svg class=\"mdl-icon-x\" width=\"24\" height=\"24\" viewBox=\"0 0 32 32\">\n        <use href=\"${iconTrash}#icon-close\"></use>\n    </svg>\n    `;\n\n  closeModalButton.addEventListener('click', closeModal);\n\n  window.addEventListener('keydown', event => {\n    if (event.key === 'Escape') {\n      closeModal();\n    }\n  });\n\n  modal.appendChild(closeModalButton);\n\n  const modalList = document.createElement('ul');\n  modalList.classList.add('list', 'mdl-list');\n  modal.appendChild(modalList);\n\n  // –û—Ç—Ä–∏–º–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö –ø—Ä–æ –∫–Ω–∏–≥—É —Ç–∞ –∑–∞–ø–æ–≤–Ω–µ–Ω–Ω—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –≤—ñ–∫–Ω–∞\n  getBookDetails(bookId).then(bookData => {\n    const modalListItem_1 = document.createElement('li');\n    modalList.appendChild(modalListItem_1);\n\n    const modalBookImage = document.createElement('img');\n    modalBookImage.classList.add('mdl-book-img');\n    modalBookImage.alt = 'book';\n    modalBookImage.width = 287;\n    modalBookImage.height = 408;\n\n    // –ó–∞–ø–∞—Å–Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∫–∞ (URL –¥–æ –∫–∞—Ä—Ç–∏–Ω–∫–∏ –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º)\n    const fallbackImageURL = 'URL_–¥–æ_–∑–∞–ø–∞—Å–Ω–æ—ó_–∫–∞—Ä—Ç–∏–Ω–∫–∏.jpg';\n\n    modalBookImage.onerror = function () {\n      modalBookImage.src = fallbackImageURL;\n    };\n    modalBookImage.src = bookData.book_image;\n\n    modalListItem_1.appendChild(modalBookImage);\n\n    const modalListItem_2 = document.createElement('li');\n    modalList.appendChild(modalListItem_2);\n\n    const modalBookName = document.createElement('h2');\n    modalBookName.classList.add('mdl-book-name');\n    modalBookName.textContent = bookData.title;\n    modalListItem_2.appendChild(modalBookName);\n\n    const modalBookAuthor = document.createElement('h3');\n    modalBookAuthor.classList.add('mdl-book-author');\n    modalBookAuthor.textContent = `by ${bookData.author}`;\n    modalListItem_2.appendChild(modalBookAuthor);\n\n    const modalBookInfo = document.createElement('p');\n    modalBookInfo.classList.add('mdl-book-info');\n    modalBookInfo.textContent = bookData.description;\n    modalListItem_2.appendChild(modalBookInfo);\n\n    // –î–æ–¥–∞–≤–∞–Ω–Ω—è –∫–Ω–æ–ø–æ–∫ –∑ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º–∏\n    const modalLinkList = document.createElement('ul');\n    modalLinkList.classList.add('list', 'mdl-link-list');\n    modalListItem_2.appendChild(modalLinkList);\n\n    const modalAmazonLink = bookData.buy_links.find(\n      link => link.name === 'Amazon'\n    );\n    if (modalAmazonLink) {\n      const modalLinkListItemAmazon = document.createElement('li');\n      modalLinkList.appendChild(modalLinkListItemAmazon);\n      const modalLinkElementAmazon = document.createElement('a');\n      modalLinkElementAmazon.classList.add('link');\n      modalLinkElementAmazon.href = modalAmazonLink.url;\n      modalLinkElementAmazon.target = '_blank';\n      modalLinkElementAmazon.innerHTML = `\n        <img class=\"mdl-logo-amazon\" src=\"${amazonImg}\" alt=\"logo amazon\" width=\"62\" height=\"19\">\n    `;\n\n      modalLinkListItemAmazon.appendChild(modalLinkElementAmazon);\n    }\n\n    const modalOtherLink = bookData.buy_links.find(\n      link => link.name !== 'Amazon'\n    );\n\n    if (modalOtherLink) {\n      const modalLinkListItem = document.createElement('li');\n      modalLinkList.appendChild(modalLinkListItem);\n      const purchaseLinkElement = document.createElement('a');\n      purchaseLinkElement.classList.add('link');\n      purchaseLinkElement.href = modalOtherLink.url;\n      purchaseLinkElement.target = '_blank';\n      purchaseLinkElement.innerHTML = `\n        <img class=\"mdl-logo-book\" src=\"${booksImg}\" alt=\"logo book\" width=\"33\" height=\"32\">\n    `;\n      modalLinkListItem.appendChild(purchaseLinkElement);\n    }\n\n    const modalShoppingListButton = document.createElement('button');\n    modalShoppingListButton.classList.add('mdl-main-btn');\n    const shoppingList = JSON.parse(localStorage.getItem('shoppingList')) || [];\n\n    const isBookInShoppingList = shoppingList.some(\n      listBook => listBook.title === bookData.title\n    );\n\n    if (isBookInShoppingList) {\n      modalShoppingListButton.textContent = 'Remove from the shopping list';\n    } else {\n      modalShoppingListButton.textContent = 'Add to shopping list';\n    }\n\n    const modalCongratsText = document.createElement('p');\n    modalCongratsText.classList.add('confirmation-text');\n    modalCongratsText.innerHTML =\n      'Congratulations! You have added the book to the shopping list. To delete, press the button &rdquo;Remove from the shopping list&ldquo;.';\n\n    modalCongratsText.style.display = isBookInShoppingList ? 'block' : 'none';\n\n    modalShoppingListButton.addEventListener('click', event => {\n      event.stopPropagation();\n\n      const isBookAdded = toggleBookInShoppingList(bookData);\n\n      if (isBookAdded) {\n        modalShoppingListButton.textContent = 'Remove from the shopping list';\n        modalCongratsText.style.display = 'block';\n      } else {\n        modalShoppingListButton.textContent = 'Add to shopping list';\n        modalCongratsText.style.display = 'none';\n      }\n    });\n\n    modal.appendChild(modalShoppingListButton);\n    modal.appendChild(modalCongratsText);\n  });\n\n  modalBackdrop.appendChild(modal);\n  document.body.appendChild(modalBackdrop);\n\n  document.body.style.overflow = 'hidden';\n\n  function closeModal() {\n    modalBackdrop.removeEventListener('click', closeModal);\n    closeModalButton.removeEventListener('click', closeModal);\n    window.removeEventListener('keydown', event => {\n      if (event.key === 'Escape') {\n        closeModal();\n      }\n    });\n\n    modalBackdrop.remove();\n    document.body.style.overflow = 'auto';\n  }\n}\n\nfunction toggleBookInShoppingList(book) {\n  let shoppingList = localStorage.getItem('shoppingList');\n  let isBookAdded = false;\n\n  if (!shoppingList) {\n    shoppingList = [];\n  } else {\n    shoppingList = JSON.parse(shoppingList);\n  }\n\n  const bookIndex = shoppingList.findIndex(\n    listBook => listBook.title === book.title\n  );\n\n  if (bookIndex === -1) {\n    shoppingList.push(book);\n    isBookAdded = true;\n  } else {\n    shoppingList.splice(bookIndex, 1);\n  }\n\n  localStorage.setItem('shoppingList', JSON.stringify(shoppingList));\n  return isBookAdded;\n}\n\n// createModal('643282b2e85766588626a0f2');\nexport { createModal };\n","import { all } from 'axios';\nimport Notiflix from 'notiflix';\nimport { getTopBooks, getBooksByCategory } from './BOOKS_API';\nimport { createModal } from './pop_up';\n\nconst categoriesBooks = document.querySelector('.categories-books');\nconst categoriesBook = document.querySelector('.categories-books-all');\nconst categoriesBooksTitle = document.querySelector('.categories-books-title');\nconst loader = document.querySelector('.loader');\n\nwindow.addEventListener('load', onLoad);\ncategoriesBook.addEventListener('click', onSeeMore);\ncategoriesBooks.addEventListener('click', onBack);\ncategoriesBook.addEventListener('click', onSeeMoreAboutBookBest);\ncategoriesBook.addEventListener('click', onSeeMoreAboutBookGenre);\n\nasync function onLoad() {\n  loader.style.display = 'none';\n  try {\n    const topBooks = await getTopBooks();\n    const categories = createCategories(topBooks.data);\n    addCategoriesMarkup(categories);\n  } catch (err) {\n    Notiflix.Report.failure('OOPS! We have some problemsüôä', err, 'Try again');\n  }\n}\n\nasync function loadBack() {\n  loader.style.display = 'none';\n  try {\n    const topBooks = await getTopBooks();\n    const categories = createCategories(topBooks.data);\n    categoriesBook.innerHTML = categories;\n  } catch (err) {\n    Notiflix.Report.failure('OOPS! We have some problemsüôä', err, 'Try again');\n  }\n}\n\nfunction onBack(event) {\n  if (!event.target.classList.contains('categories-books-back-btn')) {\n    return;\n  }\n  const btn = event.target;\n  loadBack();\n  btn.remove();\n  categoriesBooksTitle.innerHTML =\n    'Best Sellers <span class=\"categories-books-title-accent\">Books';\n}\n\nfunction createCategories(arr = []) {\n  return arr\n    .map(({ list_name, books }) => {\n      return `\n      <div class=\"categories-books-genre-title\"> ${list_name}\n        <ul class=\"categories-books-genre-all-books\">\n        ${createCard(books)}\n        </ul>\n        <button class=\"categories-books-btn\" data-category='${list_name}'>see more</button>\n      </div>\n      `;\n    })\n    .join('');\n}\n\nfunction createCard(books = []) {\n  return books\n    .map(({ _id, list_name, author, book_image, title }) => {\n      return `\n      <li class=\"categories-books-genre-book\" data-id=\"${_id}\" data-genre=\"${list_name}\">\n        <div class=\"categories-books-genre-book-img-thumb\">\n          <img class=\"categories-books-genre-book-img\"\n            src=\"${book_image}\" alt=\"Title - '${title}'\">\n          <div class=\"categories-books-genre-book-hover\">quick view </div>\n        </div>\n        <h2 class=\"categories-books-genre-book-title\">${title}</h2>\n        <h3 class=\"categories-books-genre-book-author\">${author}</h3>\n      </li>\n      `;\n    })\n    .join('');\n}\n\nfunction addCategoriesMarkup(markup) {\n  categoriesBook.insertAdjacentHTML('beforeend', markup);\n}\n\nasync function onSeeMore(event) {\n  if (!event.target.classList.contains('categories-books-btn')) {\n    return;\n  }\n  const parentEl = event.target.previousElementSibling;\n  const seeMoreGenre = parentEl.firstElementChild.dataset.genre;\n  const genreByWord = seeMoreGenre.split(' ');\n  const lastWord = genreByWord.splice(-1, 1);\n  categoriesBooksTitle.innerHTML = `${genreByWord.join(\n    ' '\n  )} <span class=\"categories-books-title-accent\">${lastWord.toString()}</span>`;\n  categoriesBooksTitle.insertAdjacentHTML(\n    'afterend',\n    '<button class=\"categories-books-back-btn \">back to Best Sellers</button>'\n  );\n  try {\n    const booksByGenre = await getBooksByCategory(seeMoreGenre);\n\n    const allBooksByGenre = createCardByGenre(booksByGenre.data);\n\n    addCardByGenre(allBooksByGenre);\n  } catch (err) {\n    Notiflix.Report.failure('OOPS! We have some problemsüôä', err, 'Try again');\n  }\n}\n\nfunction createCardByGenre(books = []) {\n  return books\n    .map(({ _id, list_name, author, book_image, title }) => {\n      return `\n      <div class=\"categories-books-genre-all-books\">\n        <div class=\"categories-books-genre-books\" data-id=\"${_id}\" data-genre=\"${list_name}\">\n          <div class=\"categories-books-genre-book-img-thumb\">\n            <img class=\"categories-books-genre-book-img\"\n              src=\"${book_image}\" alt=\"Title - '${title}'\">\n              <div class=\"categories-books-genre-book-hover\">quick view </div>\n          </div>\n          <h2 class=\"categories-books-genre-book-title\">${title}</h2>\n          <h3 class=\"categories-books-genre-book-author\">${author}</h3>\n        </div>\n      </div> \n      `;\n    })\n    .join('');\n}\n\nfunction addCardByGenre(markup) {\n  categoriesBook.innerHTML = markup;\n}\n\nasync function onSeeMoreAboutBookBest(event) {\n  if (!event.target.closest('.categories-books-genre-book')) {\n    return;\n  }\n  const parentEl = event.target.closest('.categories-books-genre-book');\n  const elemId = parentEl.dataset.id;\n  await createModal(elemId);\n}\n\nasync function onSeeMoreAboutBookGenre(event) {\n  if (!event.target.closest('.categories-books-genre-books')) {\n    return;\n  }\n  const parentEl2 = event.target.closest('.categories-books-genre-books');\n  const elemId2 = parentEl2.dataset.id;\n  await createModal(elemId2);\n}\n\nexport { onSeeMore, createCardByGenre, addCardByGenre };\n","import { getCategoryList, getBooksByCategory } from './BOOKS_API.js';\nimport { createCardByGenre, addCardByGenre } from './categories_book.js';\n\nconst elem = {\n  allCategoriesContainer: document.querySelector('.all-categories-container'),\n  allCategoriesList: document.querySelector('.categories-list'),\n  allCategoriesListItem: document.querySelector('.categories-list-item'),\n  categoriesBook: document.querySelector('.categories-books-all'),\n  categoriesBooksTitle: document.querySelector('.categories-books-title'),\n  divForSeeMoreBtn: document.querySelector('.categories-books')\n};\nconst firstListItem = document.querySelector(\n  '.js-categories-list li:first-of-type'\n);\n\nelem.allCategoriesContainer.addEventListener('click', onCategoryClick);\nelem.allCategoriesContainer.addEventListener('click', clickAccent);\nelem.divForSeeMoreBtn.addEventListener('click', onBtnMoreClick)\n\n// –§—É–Ω–∫—Ü—ñ—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ä–æ–∑–º—ñ—Ç–∫–∏\n\nfunction createMarkupCategoryList(arr) {\n  return arr\n    .map(\n      ({ list_name }) =>\n        `<li class=\"categories-list-item js-categories-list-item\" value=\"${list_name}\" data-category='${list_name}'>${list_name}</li>`\n    )\n    .join('');\n}\n\n// –†–µ–Ω–¥–µ—Ä–∏–Ω–≥\n\ngetCategoryList()\n  .then(object => {\n    elem.allCategoriesList.insertAdjacentHTML(\n      'beforeend',\n      createMarkupCategoryList(object.data)\n    );\n  })\n  .catch(error => console.log(error));\n\n// –ê–∫—Ü–µ–Ω—Ç –ø–æ –∫–ª—ñ–∫—É + preventDefault\n\nfunction clickAccent(evt) {\n  const isFirstElement = firstListItem === evt.target;\n\n  if (isFirstElement) {\n    !evt.preventDefault();\n  }\n\n  const isClickOnLiEl = evt.target.tagName === 'LI';\n\n  if (isClickOnLiEl) {\n    const arrClass = [...elem.allCategoriesList.children];\n    arrClass.forEach(item => item.classList.remove('category-active'));\n    evt.target.classList.add('category-active');\n  }\n  return;\n}\n\n// –§—É–Ω–∫—Ü—ñ—è –∫–ª—ñ–∫—É –ø–æ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó + –≤—ñ–¥–º–∞–ª—å–æ–≤–∫–∞ –∫–Ω–∏–≥ –∑ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó\n\nasync function onCategoryClick(evt) {\n  clickAccent(evt);\n\n  const target = evt.target;\n  const control = target.tagName === 'LI';\n  if (!control) return;\n  const booksByGenre = await getBooksByCategory(\n    target.attributes.value.nodeValue\n  );\n  const allBooksByGenre = createCardByGenre(booksByGenre.data);\n\n  addCardByGenre(allBooksByGenre);\n\n  const valueResultTarget = target.attributes.value.nodeValue;\n  const genreByWord = valueResultTarget.split(' ');\n  const lastWord = genreByWord.splice(-1, 1);\n  elem.categoriesBooksTitle.innerHTML = `${genreByWord.join(\n    ' '\n  )} <span class=\"categories-books-title-accent\">${lastWord.toString()}</span>`;\n}\n\n\n// –ê–∫—Ü–µ–Ω—Ç –Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó –ø—Ä–∏ –∫–ª—ñ–∫—É –Ω–∞ SeeMore\n\nfunction onBtnMoreClick(evt) {\n  if (!evt.target.classList.contains('categories-books-btn')) {\n    return;\n  }\n  const categoryName = evt.target.dataset.category;\n\n  const arrClass = [...elem.allCategoriesList.children];\n  arrClass.forEach(item => {\n    const categ = item.dataset.category;\n    item.classList.remove('category-active');\n    if (categ === categoryName) {\n      item.classList.add('category-active');\n    }\n  });\n}\n"],"names":["BASE_URL","getCategoryList","params","axios","getTopBooks","getBooksByCategory","selectedCategory","getBookDetails","bookId","response","error","createModal","modalBackdrop","closeModal","modal","closeModalButton","iconTrash","event","modalList","bookData","modalListItem_1","modalBookImage","fallbackImageURL","modalListItem_2","modalBookName","modalBookAuthor","modalBookInfo","modalLinkList","modalAmazonLink","link","modalLinkListItemAmazon","modalLinkElementAmazon","amazonImg","modalOtherLink","modalLinkListItem","purchaseLinkElement","booksImg","modalShoppingListButton","isBookInShoppingList","listBook","modalCongratsText","toggleBookInShoppingList","book","shoppingList","isBookAdded","bookIndex","categoriesBooks","categoriesBook","categoriesBooksTitle","loader","onLoad","onSeeMore","onBack","onSeeMoreAboutBookBest","onSeeMoreAboutBookGenre","topBooks","categories","createCategories","addCategoriesMarkup","err","Notiflix","loadBack","btn","arr","list_name","books","createCard","_id","author","book_image","title","markup","seeMoreGenre","genreByWord","lastWord","booksByGenre","allBooksByGenre","createCardByGenre","addCardByGenre","elemId","elemId2","elem","firstListItem","onCategoryClick","clickAccent","onBtnMoreClick","createMarkupCategoryList","object","evt","item","target","categoryName","categ"],"mappings":"8KAEA,MAAMA,EAAW,6CAEV,eAAeC,GAAkB,CACtC,MAAMC,EAAS,gBACf,OAAO,MAAMC,EAAM,IAAI,GAAGH,CAAQ,GAAGE,CAAM,EAAE,CAC/C,CAEO,eAAeE,GAAc,CAClC,MAAMF,EAAS,YACf,OAAO,MAAMC,EAAM,IAAI,GAAGH,CAAQ,GAAGE,CAAM,EAAE,CAC/C,CAEO,eAAeG,EAAmBC,EAAkB,CACzD,MAAMJ,EAAS,qBACf,OAAO,MAAMC,EAAM,IAAI,GAAGH,CAAQ,GAAGE,CAAM,GAAGI,CAAgB,EAAE,CAClE,CCVA,MAAMN,EAAW,6CAEV,eAAeO,EAAeC,EAAQ,CAC3C,GAAI,CACF,MAAMC,EAAW,MAAMN,EAAM,IAAI,GAAGH,CAAQ,GAAGQ,CAAM,EAAE,EACvD,GAAIC,EAAS,SAAW,IACtB,OAAOA,EAAS,KAEhB,MAAM,IAAI,MAAM,8BAA8B,CAEjD,OAAQC,EAAO,CACd,QAAQ,MAAMA,CAAK,CACpB,CACH,CAGA,SAASC,EAAYH,EAAQ,CAC3B,MAAMI,EAAgB,SAAS,cAAc,KAAK,EAClDA,EAAc,UAAU,IAAI,gBAAgB,EAC5CA,EAAc,iBAAiB,QAASC,CAAU,EAElD,MAAMC,EAAQ,SAAS,cAAc,KAAK,EAC1CA,EAAM,UAAU,IAAI,OAAO,EAE3B,MAAMC,EAAmB,SAAS,cAAc,QAAQ,EACxDA,EAAiB,UAAU,IAAI,gBAAgB,EAC/CA,EAAiB,UAAY;AAAA;AAAA,qBAEVC,CAAS;AAAA;AAAA,MAI5BD,EAAiB,iBAAiB,QAASF,CAAU,EAErD,OAAO,iBAAiB,UAAWI,GAAS,CACtCA,EAAM,MAAQ,UAChBJ,GAEN,CAAG,EAEDC,EAAM,YAAYC,CAAgB,EAElC,MAAMG,EAAY,SAAS,cAAc,IAAI,EAC7CA,EAAU,UAAU,IAAI,OAAQ,UAAU,EAC1CJ,EAAM,YAAYI,CAAS,EAG3BX,EAAeC,CAAM,EAAE,KAAKW,GAAY,CACtC,MAAMC,EAAkB,SAAS,cAAc,IAAI,EACnDF,EAAU,YAAYE,CAAe,EAErC,MAAMC,EAAiB,SAAS,cAAc,KAAK,EACnDA,EAAe,UAAU,IAAI,cAAc,EAC3CA,EAAe,IAAM,OACrBA,EAAe,MAAQ,IACvBA,EAAe,OAAS,IAGxB,MAAMC,EAAmB,+BAEzBD,EAAe,QAAU,UAAY,CACnCA,EAAe,IAAMC,CAC3B,EACID,EAAe,IAAMF,EAAS,WAE9BC,EAAgB,YAAYC,CAAc,EAE1C,MAAME,EAAkB,SAAS,cAAc,IAAI,EACnDL,EAAU,YAAYK,CAAe,EAErC,MAAMC,EAAgB,SAAS,cAAc,IAAI,EACjDA,EAAc,UAAU,IAAI,eAAe,EAC3CA,EAAc,YAAcL,EAAS,MACrCI,EAAgB,YAAYC,CAAa,EAEzC,MAAMC,EAAkB,SAAS,cAAc,IAAI,EACnDA,EAAgB,UAAU,IAAI,iBAAiB,EAC/CA,EAAgB,YAAc,MAAMN,EAAS,MAAM,GACnDI,EAAgB,YAAYE,CAAe,EAE3C,MAAMC,EAAgB,SAAS,cAAc,GAAG,EAChDA,EAAc,UAAU,IAAI,eAAe,EAC3CA,EAAc,YAAcP,EAAS,YACrCI,EAAgB,YAAYG,CAAa,EAGzC,MAAMC,EAAgB,SAAS,cAAc,IAAI,EACjDA,EAAc,UAAU,IAAI,OAAQ,eAAe,EACnDJ,EAAgB,YAAYI,CAAa,EAEzC,MAAMC,EAAkBT,EAAS,UAAU,KACzCU,GAAQA,EAAK,OAAS,QAC5B,EACI,GAAID,EAAiB,CACnB,MAAME,EAA0B,SAAS,cAAc,IAAI,EAC3DH,EAAc,YAAYG,CAAuB,EACjD,MAAMC,EAAyB,SAAS,cAAc,GAAG,EACzDA,EAAuB,UAAU,IAAI,MAAM,EAC3CA,EAAuB,KAAOH,EAAgB,IAC9CG,EAAuB,OAAS,SAChCA,EAAuB,UAAY;AAAA,4CACGC,CAAS;AAAA,MAG/CF,EAAwB,YAAYC,CAAsB,CAC3D,CAED,MAAME,EAAiBd,EAAS,UAAU,KACxCU,GAAQA,EAAK,OAAS,QAC5B,EAEI,GAAII,EAAgB,CAClB,MAAMC,EAAoB,SAAS,cAAc,IAAI,EACrDP,EAAc,YAAYO,CAAiB,EAC3C,MAAMC,EAAsB,SAAS,cAAc,GAAG,EACtDA,EAAoB,UAAU,IAAI,MAAM,EACxCA,EAAoB,KAAOF,EAAe,IAC1CE,EAAoB,OAAS,SAC7BA,EAAoB,UAAY;AAAA,0CACIC,CAAQ;AAAA,MAE5CF,EAAkB,YAAYC,CAAmB,CAClD,CAED,MAAME,EAA0B,SAAS,cAAc,QAAQ,EAC/DA,EAAwB,UAAU,IAAI,cAAc,EAGpD,MAAMC,GAFe,KAAK,MAAM,aAAa,QAAQ,cAAc,CAAC,GAAK,IAE/B,KACxCC,GAAYA,EAAS,QAAUpB,EAAS,KAC9C,EAEQmB,EACFD,EAAwB,YAAc,gCAEtCA,EAAwB,YAAc,uBAGxC,MAAMG,EAAoB,SAAS,cAAc,GAAG,EACpDA,EAAkB,UAAU,IAAI,mBAAmB,EACnDA,EAAkB,UAChB,0IAEFA,EAAkB,MAAM,QAAUF,EAAuB,QAAU,OAEnED,EAAwB,iBAAiB,QAASpB,GAAS,CACzDA,EAAM,gBAAe,EAEDwB,EAAyBtB,CAAQ,GAGnDkB,EAAwB,YAAc,gCACtCG,EAAkB,MAAM,QAAU,UAElCH,EAAwB,YAAc,uBACtCG,EAAkB,MAAM,QAAU,OAE1C,CAAK,EAED1B,EAAM,YAAYuB,CAAuB,EACzCvB,EAAM,YAAY0B,CAAiB,CACvC,CAAG,EAED5B,EAAc,YAAYE,CAAK,EAC/B,SAAS,KAAK,YAAYF,CAAa,EAEvC,SAAS,KAAK,MAAM,SAAW,SAE/B,SAASC,GAAa,CACpBD,EAAc,oBAAoB,QAASC,CAAU,EACrDE,EAAiB,oBAAoB,QAASF,CAAU,EACxD,OAAO,oBAAoB,UAAWI,GAAS,CACzCA,EAAM,MAAQ,UAChBJ,GAER,CAAK,EAEDD,EAAc,OAAM,EACpB,SAAS,KAAK,MAAM,SAAW,MAChC,CACH,CAEA,SAAS6B,EAAyBC,EAAM,CACtC,IAAIC,EAAe,aAAa,QAAQ,cAAc,EAClDC,EAAc,GAEbD,EAGHA,EAAe,KAAK,MAAMA,CAAY,EAFtCA,EAAe,CAAA,EAKjB,MAAME,EAAYF,EAAa,UAC7BJ,GAAYA,EAAS,QAAUG,EAAK,KACxC,EAEE,OAAIG,IAAc,IAChBF,EAAa,KAAKD,CAAI,EACtBE,EAAc,IAEdD,EAAa,OAAOE,EAAW,CAAC,EAGlC,aAAa,QAAQ,eAAgB,KAAK,UAAUF,CAAY,CAAC,EAC1DC,CACT,CC/MA,MAAME,EAAkB,SAAS,cAAc,mBAAmB,EAC5DC,EAAiB,SAAS,cAAc,uBAAuB,EAC/DC,EAAuB,SAAS,cAAc,yBAAyB,EACvEC,EAAS,SAAS,cAAc,SAAS,EAE/C,OAAO,iBAAiB,OAAQC,CAAM,EACtCH,EAAe,iBAAiB,QAASI,CAAS,EAClDL,EAAgB,iBAAiB,QAASM,CAAM,EAChDL,EAAe,iBAAiB,QAASM,CAAsB,EAC/DN,EAAe,iBAAiB,QAASO,CAAuB,EAEhE,eAAeJ,GAAS,CACtBD,EAAO,MAAM,QAAU,OACvB,GAAI,CACF,MAAMM,EAAW,MAAMnD,IACjBoD,EAAaC,EAAiBF,EAAS,IAAI,EACjDG,EAAoBF,CAAU,CAC/B,OAAQG,EAAK,CACZC,EAAS,OAAO,QAAQ,gCAAiCD,EAAK,WAAW,CAC1E,CACH,CAEA,eAAeE,GAAW,CACxBZ,EAAO,MAAM,QAAU,OACvB,GAAI,CACF,MAAMM,EAAW,MAAMnD,IACjBoD,EAAaC,EAAiBF,EAAS,IAAI,EACjDR,EAAe,UAAYS,CAC5B,OAAQG,EAAK,CACZC,EAAS,OAAO,QAAQ,gCAAiCD,EAAK,WAAW,CAC1E,CACH,CAEA,SAASP,EAAOnC,EAAO,CACrB,GAAI,CAACA,EAAM,OAAO,UAAU,SAAS,2BAA2B,EAC9D,OAEF,MAAM6C,EAAM7C,EAAM,OAClB4C,IACAC,EAAI,OAAM,EACVd,EAAqB,UACnB,gEACJ,CAEA,SAASS,EAAiBM,EAAM,GAAI,CAClC,OAAOA,EACJ,IAAI,CAAC,CAAE,UAAAC,EAAW,MAAAC,KACV;AAAA,mDACsCD,CAAS;AAAA;AAAA,UAElDE,EAAWD,CAAK,CAAC;AAAA;AAAA,8DAEmCD,CAAS;AAAA;AAAA,OAGlE,EACA,KAAK,EAAE,CACZ,CAEA,SAASE,EAAWD,EAAQ,GAAI,CAC9B,OAAOA,EACJ,IAAI,CAAC,CAAE,IAAAE,EAAK,UAAAH,EAAW,OAAAI,EAAQ,WAAAC,EAAY,MAAAC,KACnC;AAAA,yDAC4CH,CAAG,iBAAiBH,CAAS;AAAA;AAAA;AAAA,mBAGnEK,CAAU,mBAAmBC,CAAK;AAAA;AAAA;AAAA,wDAGGA,CAAK;AAAA,yDACJF,CAAM;AAAA;AAAA,OAG1D,EACA,KAAK,EAAE,CACZ,CAEA,SAASV,EAAoBa,EAAQ,CACnCxB,EAAe,mBAAmB,YAAawB,CAAM,CACvD,CAEA,eAAepB,EAAUlC,EAAO,CAC9B,GAAI,CAACA,EAAM,OAAO,UAAU,SAAS,sBAAsB,EACzD,OAGF,MAAMuD,EADWvD,EAAM,OAAO,uBACA,kBAAkB,QAAQ,MAClDwD,EAAcD,EAAa,MAAM,GAAG,EACpCE,EAAWD,EAAY,OAAO,GAAI,CAAC,EACzCzB,EAAqB,UAAY,GAAGyB,EAAY,KAC9C,GACD,CAAA,gDAAgDC,EAAS,SAAU,CAAA,UACpE1B,EAAqB,mBACnB,WACA,0EACJ,EACE,GAAI,CACF,MAAM2B,EAAe,MAAMtE,EAAmBmE,CAAY,EAEpDI,EAAkBC,EAAkBF,EAAa,IAAI,EAE3DG,EAAeF,CAAe,CAC/B,OAAQjB,EAAK,CACZC,EAAS,OAAO,QAAQ,gCAAiCD,EAAK,WAAW,CAC1E,CACH,CAEA,SAASkB,EAAkBZ,EAAQ,GAAI,CACrC,OAAOA,EACJ,IAAI,CAAC,CAAE,IAAAE,EAAK,UAAAH,EAAW,OAAAI,EAAQ,WAAAC,EAAY,MAAAC,KACnC;AAAA;AAAA,6DAEgDH,CAAG,iBAAiBH,CAAS;AAAA;AAAA;AAAA,qBAGrEK,CAAU,mBAAmBC,CAAK;AAAA;AAAA;AAAA,0DAGGA,CAAK;AAAA,2DACJF,CAAM;AAAA;AAAA;AAAA,OAI5D,EACA,KAAK,EAAE,CACZ,CAEA,SAASU,EAAeP,EAAQ,CAC9BxB,EAAe,UAAYwB,CAC7B,CAEA,eAAelB,EAAuBpC,EAAO,CAC3C,GAAI,CAACA,EAAM,OAAO,QAAQ,8BAA8B,EACtD,OAGF,MAAM8D,EADW9D,EAAM,OAAO,QAAQ,8BAA8B,EAC5C,QAAQ,GAChC,MAAMN,EAAYoE,CAAM,CAC1B,CAEA,eAAezB,EAAwBrC,EAAO,CAC5C,GAAI,CAACA,EAAM,OAAO,QAAQ,+BAA+B,EACvD,OAGF,MAAM+D,EADY/D,EAAM,OAAO,QAAQ,+BAA+B,EAC5C,QAAQ,GAClC,MAAMN,EAAYqE,CAAO,CAC3B,CCrJA,MAAMC,EAAO,CACX,uBAAwB,SAAS,cAAc,2BAA2B,EAC1E,kBAAmB,SAAS,cAAc,kBAAkB,EAC5D,sBAAuB,SAAS,cAAc,uBAAuB,EACrE,eAAgB,SAAS,cAAc,uBAAuB,EAC9D,qBAAsB,SAAS,cAAc,yBAAyB,EACtE,iBAAkB,SAAS,cAAc,mBAAmB,CAC9D,EACMC,EAAgB,SAAS,cAC7B,sCACF,EAEAD,EAAK,uBAAuB,iBAAiB,QAASE,EAAe,EACrEF,EAAK,uBAAuB,iBAAiB,QAASG,CAAW,EACjEH,EAAK,iBAAiB,iBAAiB,QAASI,EAAc,EAI9D,SAASC,EAAyBvB,EAAK,CACrC,OAAOA,EACJ,IACC,CAAC,CAAE,UAAAC,CAAW,IACZ,mEAAmEA,CAAS,oBAAoBA,CAAS,KAAKA,CAAS,OAC1H,EACA,KAAK,EAAE,CACZ,CAIA/D,EAAiB,EACd,KAAKsF,GAAU,CACdN,EAAK,kBAAkB,mBACrB,YACAK,EAAyBC,EAAO,IAAI,CAC1C,CACA,CAAG,EACA,MAAM7E,GAAS,QAAQ,IAAIA,CAAK,CAAC,EAIpC,SAAS0E,EAAYI,EAAK,CACDN,IAAkBM,EAAI,QAG1CA,EAAI,iBAGeA,EAAI,OAAO,UAAY,OAG1B,CAAC,GAAGP,EAAK,kBAAkB,QAAQ,EAC3C,QAAQQ,GAAQA,EAAK,UAAU,OAAO,iBAAiB,CAAC,EACjED,EAAI,OAAO,UAAU,IAAI,iBAAiB,EAG9C,CAIA,eAAeL,GAAgBK,EAAK,CAClCJ,EAAYI,CAAG,EAEf,MAAME,EAASF,EAAI,OAEnB,GAAI,EADYE,EAAO,UAAY,MACrB,OACd,MAAMf,EAAe,MAAMtE,EACzBqF,EAAO,WAAW,MAAM,SAC5B,EACQd,EAAkBC,EAAkBF,EAAa,IAAI,EAE3DG,EAAeF,CAAe,EAG9B,MAAMH,EADoBiB,EAAO,WAAW,MAAM,UACZ,MAAM,GAAG,EACzChB,EAAWD,EAAY,OAAO,GAAI,CAAC,EACzCQ,EAAK,qBAAqB,UAAY,GAAGR,EAAY,KACnD,GACD,CAAA,gDAAgDC,EAAS,SAAU,CAAA,SACtE,CAKA,SAASW,GAAeG,EAAK,CAC3B,GAAI,CAACA,EAAI,OAAO,UAAU,SAAS,sBAAsB,EACvD,OAEF,MAAMG,EAAeH,EAAI,OAAO,QAAQ,SAEvB,CAAC,GAAGP,EAAK,kBAAkB,QAAQ,EAC3C,QAAQQ,GAAQ,CACvB,MAAMG,EAAQH,EAAK,QAAQ,SAC3BA,EAAK,UAAU,OAAO,iBAAiB,EACnCG,IAAUD,GACZF,EAAK,UAAU,IAAI,iBAAiB,CAE1C,CAAG,CACH"}